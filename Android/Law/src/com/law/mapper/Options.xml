<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
    PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
    "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.law.mapper.OptionsMapper">
	<!-- 目的：为dao接口方法提供sql语句配置 -->
	<resultMap type="com.law.pojo.Options" id="optionResultMap">
		<id column="id" property="id" jdbcType="BIGINT" />
		<result column="singlechoice_id" property="singlechoiceId"
			jdbcType="BIGINT" />
		<result column="multiplechoice_id" property="multiplechoiceId"
			jdbcType="BIGINT" />
		<result column="option_content" property="optionContent"
			jdbcType="VARCHAR" />
	</resultMap>
	<select id="queryBySingleChoiceId" resultMap="optionResultMap"
		parameterType="_long">
		<!-- 具体的sql -->
		SELECT
		*
		FROM
		options
		WHERE
		singlechoice_id = #{singlechoiceId}
	</select>

	<select id="queryByMultipleChoiceId" resultMap="optionResultMap"
		parameterType="_long">
		<!-- 具体的sql -->
		SELECT
		*
		FROM
		options
		WHERE
		multiplechoice_id = #{multiplechoiceId}
	</select>
	<insert id="insert" parameterType="Options">
		INSERT ignore INTO
		options(option_content,singlechoice_id,multiplechoice_id)
		VALUES(#{optionContent},#{singlechoiceId},#{multiplechoiceId})
	</insert>

	<update id="update" parameterType="Options">
		UPDATE options
		SET
		option_content = #{optionContent},
		singlechoice_id = #{singlechoiceId},
		multiplechoice_id = #{multiplechoiceId}
		WHERE
		id = #{id}
		AND number > 0
	</update>

	<delete id="delete" parameterType="_long">
		DELETE
		FROM options
		WHERE id = #{id}
	</delete>
</mapper>